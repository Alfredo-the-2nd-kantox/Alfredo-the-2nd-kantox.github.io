---
layout: post
title: Docker tips: Clean Up Your Local Machine
description:
date: 2021-07-06 05:07:00
image:
categories: docker
tags: []
---

Source: https://betterprogramming.pub/docker-tips-clean-up-your-local-machine-35f370a01a78

Overall system Consumption

    docker system df

This command shows Docker’s disk usage in several categories:

- Images: The size of the images that have been pulled from a registry and the ones built locally.
- Containers: The disk space used by the containers running on the system, meaning the space of each containers’ read-write layer.
- Local Volumes: Storage persisted on the host but outside of a container’s filesystem.
- Build Cache: the cache generated by the image build process (only if using BuildKit, available from Docker 18.09).

To remove stopped containers

    docker container prune

To remove all containers (stopped and running)

    docker rm -f $(docker ps -aq)
    docker container rm -f $(docker ps -aq)

To list images not referenced anymore

    docker image ls -f dangling=true

To remove dangling images

    docker image rm $(docker image ls -f dangling=true -q)

equivalent to

    docker image prune

To remove all images

    docker image rm $(docker image ls -q)

To remove volumes

    docker volume rm $(docker volume ls -q)

equivalent to

    docker volume prune

Clearing everything at once

    docker system prune
